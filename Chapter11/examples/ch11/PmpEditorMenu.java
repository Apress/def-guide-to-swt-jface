package examples.ch11;import org.eclipse.swt.*;import org.eclipse.swt.events.*;import org.eclipse.swt.widgets.*;/** * This class contains the menu for the Poor Man's Programming Editor application */public class PmpEditorMenu {  // The underlying menu this class wraps  Menu menu = null;  /**   * Constructs a PmpEditorMenu   *    * @param shell the parent shell   */  public PmpEditorMenu(final Shell shell) {    // Create the menu    menu = new Menu(shell, SWT.BAR);    // Create the File top-level menu    MenuItem item = new MenuItem(menu, SWT.CASCADE);    item.setText("File");    Menu dropMenu = new Menu(shell, SWT.DROP_DOWN);    item.setMenu(dropMenu);    // Create File->Open    item = new MenuItem(dropMenu, SWT.NULL);    item.setText("Open...\tCtrl+O");    item.setAccelerator(SWT.CTRL + 'O');    item.addSelectionListener(new SelectionAdapter() {      public void widgetSelected(SelectionEvent event) {        PmpEditor.getApp().openFile();      }    });    // Create File->Save    item = new MenuItem(dropMenu, SWT.NULL);    item.setText("Save\tCtrl+S");    item.setAccelerator(SWT.CTRL + 'S');    item.addSelectionListener(new SelectionAdapter() {      public void widgetSelected(SelectionEvent event) {        PmpEditor.getApp().saveFile();      }    });    // Create File->Save As    item = new MenuItem(dropMenu, SWT.NULL);    item.setText("Save As...");    item.addSelectionListener(new SelectionAdapter() {      public void widgetSelected(SelectionEvent event) {        PmpEditor.getApp().saveFileAs();      }    });    new MenuItem(dropMenu, SWT.SEPARATOR);    // Create File->Print    item = new MenuItem(dropMenu, SWT.NULL);    item.setText("Print\tCtrl+P");    item.setAccelerator(SWT.CTRL + 'P');    item.addSelectionListener(new SelectionAdapter() {      public void widgetSelected(SelectionEvent event) {        PmpEditor.getApp().print();      }    });    new MenuItem(dropMenu, SWT.SEPARATOR);    // Create File->Exit    item = new MenuItem(dropMenu, SWT.NULL);    item.setText("Exit\tAlt+F4");    item.addSelectionListener(new SelectionAdapter() {      public void widgetSelected(SelectionEvent event) {        shell.close();      }    });    // Create Edit    item = new MenuItem(menu, SWT.CASCADE);    item.setText("Edit");    dropMenu = new Menu(shell, SWT.DROP_DOWN);    item.setMenu(dropMenu);    // Create Edit->Cut    item = new MenuItem(dropMenu, SWT.NULL);    item.setText("Cut\tCtrl+X");    item.setAccelerator(SWT.CTRL + 'X');    item.addSelectionListener(new SelectionAdapter() {      public void widgetSelected(SelectionEvent event) {        PmpEditor.getApp().cut();      }    });    // Create Edit->Copy    item = new MenuItem(dropMenu, SWT.NULL);    item.setText("Copy\tCtrl+C");    item.setAccelerator(SWT.CTRL + 'C');    item.addSelectionListener(new SelectionAdapter() {      public void widgetSelected(SelectionEvent event) {        PmpEditor.getApp().copy();      }    });    // Create Edit->Paste    item = new MenuItem(dropMenu, SWT.NULL);    item.setText("Paste\tCtrl+V");    item.setAccelerator(SWT.CTRL + 'V');    item.addSelectionListener(new SelectionAdapter() {      public void widgetSelected(SelectionEvent event) {        PmpEditor.getApp().paste();      }    });    new MenuItem(dropMenu, SWT.SEPARATOR);    // Create Select All    item = new MenuItem(dropMenu, SWT.NULL);    item.setText("Select All\tCtrl+A");    item.setAccelerator(SWT.CTRL + 'A');    item.addSelectionListener(new SelectionAdapter() {      public void widgetSelected(SelectionEvent event) {        PmpEditor.getApp().selectAll();      }    });    new MenuItem(dropMenu, SWT.SEPARATOR);    // Create Undo    item = new MenuItem(dropMenu, SWT.NULL);    item.setText("Undo\tCtrl+Z");    item.setAccelerator(SWT.CTRL + 'Z');    item.addSelectionListener(new SelectionAdapter() {      public void widgetSelected(SelectionEvent event) {        PmpEditor.getApp().undo();      }    });    new MenuItem(dropMenu, SWT.SEPARATOR);    // Create Word Wrap    final MenuItem wwItem = new MenuItem(dropMenu, SWT.CHECK);    wwItem.setText("Word Wrap\tCtrl+W");    wwItem.setAccelerator(SWT.CTRL + 'W');    wwItem.addSelectionListener(new SelectionAdapter() {      public void widgetSelected(SelectionEvent event) {        PmpEditor.getApp().toggleWordWrap();      }    });    wwItem.addArmListener(new ArmListener() {      public void widgetArmed(ArmEvent event) {        wwItem.setSelection(PmpEditor.getApp().getWordWrap());      }    });    // Create Help    item = new MenuItem(menu, SWT.CASCADE);    item.setText("Help");    dropMenu = new Menu(shell, SWT.DROP_DOWN);    item.setMenu(dropMenu);    // Create Help->About    item = new MenuItem(dropMenu, SWT.NULL);    item.setText("About\tCtrl+A");    item.setAccelerator(SWT.CTRL + 'A');    item.addSelectionListener(new SelectionAdapter() {      public void widgetSelected(SelectionEvent event) {        PmpEditor.getApp().about();      }    });  }  /**   * Gets the underlying menu   *    * @return Menu   */  public Menu getMenu() {    return menu;  }}